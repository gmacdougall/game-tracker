<h1>Games</h1>

<table class='table data-table'>
  <thead>
    <tr>
      <th><%= Game.human_attribute_name :name%></th>
      <th>Times Played</th>
      <th></th>
    </tr>
  </thead>

  <tbody>
    <%= content_tag_for(:tr, @games) do |game| %>
      <td><%= link_to game.name, game if can? :show, game %>
      <td><%= game.instances.size %></td>
      <td>
        <div class='btn-group'>
          <%= link_to 'BGG', game.bgg_url, class: game.bgg_id.nil? ? 'btn disabled': 'btn' %>
          <%= link_to 'Edit', edit_game_path(game), class: 'btn btn-warning' if can? :edit, game %>
          <%= link_to 'Destroy', game, data: { confirm: 'Are you sure?' }, method: :delete, class: 'btn btn-danger' if can? :destroy, game %>
        </div>
      </td>
    <% end %>
  </tbody>
</table>

<br />

<%= link_to 'New Game', new_game_path, class: 'btn' if can? :new, :game %>
